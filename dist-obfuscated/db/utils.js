var a6_0x54d888=a6_0x11a1;(function(_0x113f1c,_0x21b1c3){var _0x456de8=a6_0x11a1,_0x523d27=_0x113f1c();while(!![]){try{var _0x37ac7b=-parseInt(_0x456de8(0x193))/0x1*(-parseInt(_0x456de8(0x19e))/0x2)+-parseInt(_0x456de8(0x192))/0x3+-parseInt(_0x456de8(0x177))/0x4*(-parseInt(_0x456de8(0x174))/0x5)+parseInt(_0x456de8(0x17e))/0x6*(-parseInt(_0x456de8(0x194))/0x7)+-parseInt(_0x456de8(0x178))/0x8*(-parseInt(_0x456de8(0x197))/0x9)+-parseInt(_0x456de8(0x182))/0xa*(-parseInt(_0x456de8(0x18e))/0xb)+parseInt(_0x456de8(0x179))/0xc;if(_0x37ac7b===_0x21b1c3)break;else _0x523d27['push'](_0x523d27['shift']());}catch(_0x4599dc){_0x523d27['push'](_0x523d27['shift']());}}}(a6_0x5f42,0x3622f));function a6_0x11a1(_0x91b09e,_0x4f1088){var _0x5f4263=a6_0x5f42();return a6_0x11a1=function(_0x11a1f8,_0x3a5597){_0x11a1f8=_0x11a1f8-0x174;var _0x1c9a60=_0x5f4263[_0x11a1f8];return _0x1c9a60;},a6_0x11a1(_0x91b09e,_0x4f1088);}var __awaiter=this&&this[a6_0x54d888(0x180)]||function(_0x5c2b33,_0x870dfb,_0x385134,_0x225a5c){function _0xe58676(_0x40db40){return _0x40db40 instanceof _0x385134?_0x40db40:new _0x385134(function(_0x1f733f){_0x1f733f(_0x40db40);});}return new(_0x385134||(_0x385134=Promise))(function(_0x1c1d30,_0x1519f8){function _0x186890(_0x260a45){var _0x129acd=a6_0x11a1;try{_0x576896(_0x225a5c[_0x129acd(0x17c)](_0x260a45));}catch(_0x369ff4){_0x1519f8(_0x369ff4);}}function _0x2ecedd(_0x92053e){try{_0x576896(_0x225a5c['throw'](_0x92053e));}catch(_0x576f53){_0x1519f8(_0x576f53);}}function _0x576896(_0x1fa25d){var _0x5f4cda=a6_0x11a1;_0x1fa25d['done']?_0x1c1d30(_0x1fa25d['value']):_0xe58676(_0x1fa25d[_0x5f4cda(0x196)])[_0x5f4cda(0x176)](_0x186890,_0x2ecedd);}_0x576896((_0x225a5c=_0x225a5c['apply'](_0x5c2b33,_0x870dfb||[]))['next']());});},__generator=this&&this[a6_0x54d888(0x18a)]||function(_0x8aad68,_0x355fd4){var _0x4bc52c=a6_0x54d888,_0x5f8106={'label':0x0,'sent':function(){if(_0x5dd2a3[0x0]&0x1)throw _0x5dd2a3[0x1];return _0x5dd2a3[0x1];},'trys':[],'ops':[]},_0x4d72f6,_0x520e69,_0x5dd2a3,_0x3916ee;return _0x3916ee={'next':_0x2b5e19(0x0),'throw':_0x2b5e19(0x1),'return':_0x2b5e19(0x2)},typeof Symbol===_0x4bc52c(0x186)&&(_0x3916ee[Symbol[_0x4bc52c(0x190)]]=function(){return this;}),_0x3916ee;function _0x2b5e19(_0x15cd38){return function(_0x4e04a7){return _0x32ef00([_0x15cd38,_0x4e04a7]);};}function _0x32ef00(_0xa8b28b){var _0x319b67=_0x4bc52c;if(_0x4d72f6)throw new TypeError(_0x319b67(0x198));while(_0x3916ee&&(_0x3916ee=0x0,_0xa8b28b[0x0]&&(_0x5f8106=0x0)),_0x5f8106)try{if(_0x4d72f6=0x1,_0x520e69&&(_0x5dd2a3=_0xa8b28b[0x0]&0x2?_0x520e69[_0x319b67(0x175)]:_0xa8b28b[0x0]?_0x520e69[_0x319b67(0x17d)]||((_0x5dd2a3=_0x520e69[_0x319b67(0x175)])&&_0x5dd2a3[_0x319b67(0x17b)](_0x520e69),0x0):_0x520e69[_0x319b67(0x17c)])&&!(_0x5dd2a3=_0x5dd2a3[_0x319b67(0x17b)](_0x520e69,_0xa8b28b[0x1]))[_0x319b67(0x19c)])return _0x5dd2a3;if(_0x520e69=0x0,_0x5dd2a3)_0xa8b28b=[_0xa8b28b[0x0]&0x2,_0x5dd2a3[_0x319b67(0x196)]];switch(_0xa8b28b[0x0]){case 0x0:case 0x1:_0x5dd2a3=_0xa8b28b;break;case 0x4:_0x5f8106['label']++;return{'value':_0xa8b28b[0x1],'done':![]};case 0x5:_0x5f8106['label']++,_0x520e69=_0xa8b28b[0x1],_0xa8b28b=[0x0];continue;case 0x7:_0xa8b28b=_0x5f8106['ops'][_0x319b67(0x18d)](),_0x5f8106[_0x319b67(0x18f)][_0x319b67(0x18d)]();continue;default:if(!(_0x5dd2a3=_0x5f8106[_0x319b67(0x18f)],_0x5dd2a3=_0x5dd2a3[_0x319b67(0x17f)]>0x0&&_0x5dd2a3[_0x5dd2a3['length']-0x1])&&(_0xa8b28b[0x0]===0x6||_0xa8b28b[0x0]===0x2)){_0x5f8106=0x0;continue;}if(_0xa8b28b[0x0]===0x3&&(!_0x5dd2a3||_0xa8b28b[0x1]>_0x5dd2a3[0x0]&&_0xa8b28b[0x1]<_0x5dd2a3[0x3])){_0x5f8106[_0x319b67(0x18b)]=_0xa8b28b[0x1];break;}if(_0xa8b28b[0x0]===0x6&&_0x5f8106[_0x319b67(0x18b)]<_0x5dd2a3[0x1]){_0x5f8106['label']=_0x5dd2a3[0x1],_0x5dd2a3=_0xa8b28b;break;}if(_0x5dd2a3&&_0x5f8106[_0x319b67(0x18b)]<_0x5dd2a3[0x2]){_0x5f8106['label']=_0x5dd2a3[0x2],_0x5f8106['ops'][_0x319b67(0x181)](_0xa8b28b);break;}if(_0x5dd2a3[0x2])_0x5f8106[_0x319b67(0x187)]['pop']();_0x5f8106[_0x319b67(0x18f)][_0x319b67(0x18d)]();continue;}_0xa8b28b=_0x355fd4['call'](_0x8aad68,_0x5f8106);}catch(_0x5793bb){_0xa8b28b=[0x6,_0x5793bb],_0x520e69=0x0;}finally{_0x4d72f6=_0x5dd2a3=0x0;}if(_0xa8b28b[0x0]&0x5)throw _0xa8b28b[0x1];return{'value':_0xa8b28b[0x0]?_0xa8b28b[0x1]:void 0x0,'done':!![]};}};import a6_0x91db46 from'./index';import{v4 as a6_0x49aa4d}from'uuid';import{generateCode,timeout}from'../lib/utils';export function saveVerificationCode(_0x5f1596,_0x54e0d2,_0x345916,_0x2b2327,_0x405a1c){return __awaiter(this,void 0x0,void 0x0,function(){var _0x287e11,_0x298f7a,_0x421c04=this;return __generator(this,function(_0x472dad){var _0x2b645a=a6_0x11a1;switch(_0x472dad[_0x2b645a(0x18b)]){case 0x0:return[0x4,generateCode()];case 0x1:_0x287e11=_0x472dad[_0x2b645a(0x17a)](),_0x298f7a=a6_0x49aa4d();return[0x4,a6_0x91db46[_0x2b645a(0x18c)](_0x2b645a(0x195),[_0x345916,_0x54e0d2,_0x5f1596,_0x2b2327,_0x298f7a,_0x287e11])];case 0x2:_0x472dad[_0x2b645a(0x17a)](),(function(){return __awaiter(_0x421c04,void 0x0,void 0x0,function(){return __generator(this,function(_0x272e2b){var _0x23895a=a6_0x11a1;switch(_0x272e2b[_0x23895a(0x18b)]){case 0x0:return[0x4,timeout(0xea60)];case 0x1:_0x272e2b['sent']();return[0x4,a6_0x91db46[_0x23895a(0x18c)](_0x23895a(0x188),[_0x287e11])];case 0x2:_0x272e2b[_0x23895a(0x17a)]();return[0x2];}});});}());return[0x2,_0x287e11];}});});}export function verifyCode(_0xbc6d9,_0xf4906a){return __awaiter(this,void 0x0,void 0x0,function(){var _0x4a0604,_0x12a975;return __generator(this,function(_0x11daaa){var _0x320152=a6_0x11a1;switch(_0x11daaa[_0x320152(0x18b)]){case 0x0:return[0x4,a6_0x91db46[_0x320152(0x18c)](_0x320152(0x185),[_0xf4906a])];case 0x1:_0x4a0604=_0x11daaa[_0x320152(0x17a)](),_0x12a975=_0x4a0604[_0x320152(0x19a)][0x0];if(!_0x12a975)return[0x2,![]];return[0x4,a6_0x91db46[_0x320152(0x18c)](_0x320152(0x191),[_0xbc6d9])];case 0x2:_0x11daaa[_0x320152(0x17a)]();return[0x2,!![]];}});});}export function getUserByDiscordId(_0x35648c){return __awaiter(this,void 0x0,void 0x0,function(){var _0x523a21,_0x58bf5d;return __generator(this,function(_0x441b8f){var _0xd3dd88=a6_0x11a1;switch(_0x441b8f[_0xd3dd88(0x18b)]){case 0x0:return[0x4,a6_0x91db46[_0xd3dd88(0x18c)](_0xd3dd88(0x189),[_0x35648c])];case 0x1:_0x523a21=_0x441b8f[_0xd3dd88(0x17a)]();if(_0x523a21['rows']['length']===0x0)return[0x2,null];_0x58bf5d=_0x523a21[_0xd3dd88(0x19a)][0x0];return[0x2,{'id':_0x58bf5d['id'],'uuid':_0x58bf5d['uuid'],'createdAt':_0x58bf5d[_0xd3dd88(0x184)],'discordName':_0x58bf5d[_0xd3dd88(0x183)],'minecraftName':_0x58bf5d[_0xd3dd88(0x199)],'token':_0x58bf5d[_0xd3dd88(0x19d)],'code':_0x58bf5d['code'],'avatar':_0x58bf5d[_0xd3dd88(0x19f)]||null}];}});});}function a6_0x5f42(){var _0x1c4460=['avatarurl','5vFQJZv','return','then','674984mIToLe','2554744oQfuos','2058444lrbuSE','sent','call','next','throw','917034ufWwnL','length','__awaiter','push','73430yoydhW','discord_name','created_at','SELECT\x20*\x20FROM\x20users\x20WHERE\x20code\x20=\x20$1','function','ops','DELETE\x20FROM\x20users\x20WHERE\x20code\x20=\x20$1\x20AND\x20discord_name\x20IS\x20NULL','SELECT\x20*\x20FROM\x20users\x20WHERE\x20id\x20=\x20$1','__generator','label','query','pop','209uJmlcb','trys','iterator','UPDATE\x20users\x20SET\x20discord_name\x20=\x20$1','881631qSaRHY','3QyTWIw','14XEbVpr','INSERT\x20INTO\x20users\x20(id,\x20uuid,\x20minecraft_name,\x20avatarurl,\x20token,\x20code)\x20VALUES\x20($1,\x20$2,\x20$3,\x20$4,\x20$5,\x20$6)','value','9wlDGzO','Generator\x20is\x20already\x20executing.','minecraft_name','rows','error','done','token','14770ybBFyE'];a6_0x5f42=function(){return _0x1c4460;};return a6_0x5f42();}export function getUserProfile(_0x28a67b){return __awaiter(this,void 0x0,void 0x0,function(){var _0x2e7100,_0x4f51bb;return __generator(this,function(_0x566f8c){var _0x42fdbf=a6_0x11a1;switch(_0x566f8c[_0x42fdbf(0x18b)]){case 0x0:_0x566f8c[_0x42fdbf(0x18f)]['push']([0x0,0x2,,0x3]);return[0x4,a6_0x91db46[_0x42fdbf(0x18c)](_0x42fdbf(0x189),[_0x28a67b])];case 0x1:_0x2e7100=_0x566f8c['sent']();return _0x2e7100[_0x42fdbf(0x19a)][_0x42fdbf(0x17f)]>0x0?[0x2,_0x2e7100['rows'][0x0]]:[0x2,null];return[0x3,0x3];case 0x2:_0x4f51bb=_0x566f8c[_0x42fdbf(0x17a)](),console[_0x42fdbf(0x19b)]('Failed\x20to\x20get\x20user\x20profile',_0x4f51bb);return[0x2,null];case 0x3:return[0x2];}});});}